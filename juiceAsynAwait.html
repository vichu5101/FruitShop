<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<h1 style="font-family: tah;"></h1>

<body>
    <script>
        // Shop Status
        shopOpen = true
        userInput = "yes"
        // Promise Function
        function promiseFunction(usersOpinion) {
            return new Promise((resolve, reject) => {
                if (userInput == usersOpinion) {
                    setTimeout(() => { resolve() }, 3000)
                }
                else {
                    setTimeout(() => { reject() }, 1500)
                }
            })
        }
        // Juice Details from user
        juice = {}
        //----------------------------------------------------------------------------------------
        // Welcome Function
        function initial(juiceTypeUserInput, callBackFunction) {
            document.write("<body style='background-color: powderblue;'>")
            document.write("<h1 style='color: black;font-family: Verdana;padding:40;background-color: royalblue;'><center>---------- 🥂🍸 Welcome to SVN Fresh Juice Corner 🍹🥃 ----------</center></h1>")
            document.write("<br>")
            document.write("<h3 style='color: black;font-family: sans-serif;'><center>❣️ Don’t take tension when fruit juice gives you a fit sensation  ❣️</center></h3>")
            document.write("<br>")
            document.write("<hr style='width:50%;'><center></center></hr>")
            document.write("<br>")
            document.write("<img src='juiceImage.jpg' alt='Juice image' width='700' height='400' style='float:right'>")
            document.write("<h3>Your Ordered Received ☑️</h3>")
            document.write("<br>")
            document.write("<p style='font-weight:Bold;font-family:Courier New;'>📝 ----------------    Order Details      ---------------- 📝   ")
            document.write("<br>")
            document.write("📌 Juice Type       : ", juice.JuiceType)
            document.write("<br>")
            document.write("📌 Type of Service      : ", juice.OrderType)
            document.write("<br>")
            document.write("📌 NOS      : ", juice.NOS)
            document.write("<br>")
            document.write("📌 Cool Type        : ", juice.CoolType)
            document.write("<br>")
            document.write("📌 Sugar Type       : ", juice.SugarType)
            document.write("<br>")
            document.write("📌 Ice Cream        : ", juice.IceCream)
            document.write("<br>")
            document.write("Your Order Id       :  ", juiceTypeUserInput.slice(0, 3) + (Math.floor(Math.random() * 100)).toString())
            document.write("<br>")
            document.write("💲 Bill     : ", juice.NOS * 50, "/rs-")
            document.write("<br>")
            callBackFunction(juiceTypeUserInput)
        }

        async function userTypes() {
            await promiseFunction(sugarType)
                .then(() => document.write("✔️ Sugar added to your Juice 🧂"))
                .catch(() => document.write("❌ Your Juice is Sugar Free 🧂"))
            document.write("<br>")
            await promiseFunction(CoolType)
                .then(() => document.write("✔️ Ice added to your Juice 🧊"))
                .catch(() => document.write("❌ Ice Not added to your juice 🧊"))
            document.write("<br>")
            await promiseFunction(iceCreamType)
                .then(() => document.write(`✔️ ${juice.IceCream} IceCream added to your Juice 🍨`))
                .catch(() => document.write("❌ Without Icecream 🍨"))
            document.write("<br>")
            document.write("<h1><center>----------🙌 Your Order is Ready, Please take your Order. Have a nice day... 🙌-----------</center></h1>")
            document.write("<br>")
            document.write("<br>")
            document.write("<h2><center>********** 💙 Thank You 💙 **********</center></h2>")
        }
        //-----------------------------------------------------------------------------
        // Timeout Asynchronous
        function preparingJuice(juiceTypeInput) {
            setTimeout(() => {
                document.write("<br>")
                document.write("<br>")
                document.write("👉 ***********  Your Order in progress  ************ 👈")
                document.write("<br>")
                document.write("<br>")
                setTimeout(() => {
                    document.write("♻️ Washing and Peeling The Fruits")
                    document.write("<br>")
                    setTimeout(() => {
                        document.write("♻️ Cutting the Fruits")
                        document.write("<br>")
                        setTimeout(() => {
                            document.write("♻️ Grinding The Fruits")
                            document.write("<br>")
                            userTypes()
                        }, 4000)
                    }, 3000)
                }, 5000)
            }, 100)
        }
        //-----------------------------------------------------------------------------
        // Calling the function and by using Call Back
        // The shop is in Open or Not using Promise Function
        new Promise((resolve, reject) => {
            if (shopOpen) {
                //-----------------------------------------------------------------------------------
                alert("🌟 _-_-_-_-_ Welcome to SVN Fresh juice Corner _-_-_-_-_ 🌟")
                // Juice Type
                typeOfJuice = prompt("What type of juice do you want\n1. Apple 🍻\n2. Pomogranate 🍻\n3. Orange 🍻\n4. Muskmelon 🍻\n5. WaterMelon 🍻")
                if (typeOfJuice == "Apple" || typeOfJuice == "Pomogranate" || typeOfJuice == "Orange" || typeOfJuice == "Muskmelon" || typeOfJuice == "Watermelon") {
                    juice["JuiceType"] = typeOfJuice
                }
                else {
                    juice["JuiceType"] = "Apple"
                }
                // Service Type
                serviceType = prompt("Parcel or Drink").toLowerCase()
                if (serviceType == "parcel") {
                    juice["OrderType"] = "Parcel"
                }
                else {
                    juice["OrderType"] = "Drink"
                }
                // Number of Juice
                howManyJuice = prompt("How Many juice do you want")
                if (howManyJuice <= 100 & howManyJuice != 0) {
                    juice["NOS"] = howManyJuice
                }
                else {
                    juice["NOS"] = 1
                }
                CoolType = prompt("1. With Ice 🧊\n2. Without ice 🧊\n ( YES or NO )").toLowerCase()
                if (CoolType == "yes") {
                    juice["CoolType"] = "With Ice"
                }
                else {
                    juice["CoolType"] = "Without ice"
                }
                // Sugar Type
                sugarType = prompt("1. With Sugar 🧂\n 2. Sugar Free 🧂\n ( YES or NO )").toLowerCase()
                if (sugarType == "yes") {
                    juice["SugarType"] = "With Sugar"
                }
                else {
                    juice["SugarType"] = "SugarFree"
                }
                // IceCream Type with flavour
                iceCreamType = prompt("Do you want Icecream 🍨\n ( YES or NO )").toLowerCase()
                if (iceCreamType == "yes") {
                    flavourOfIceCream = prompt("1. Vannila 🍦\n2. Strawberry 🍦\n3. Black Current 🍦")
                    if (flavourOfIceCream == "Vannila" || flavourOfIceCream == "Strawberry" || flavourOfIceCream == "Black Current") {
                        juice["IceCream"] = flavourOfIceCream
                    }
                    else {
                        juice["IceCream"] = "Vannila"
                    }
                }
                else {
                    juice["IceCream"] = "Without IceCream"
                }
                //-----------------------------------------------------------------------------
                resolve(setTimeout(initial, 2000, juice.JuiceType, preparingJuice))
            }
            else {
                reject(document.write("<h1 style='color:red;'>☹️ ----- SORRY ------ ☹️</style></h1>"),
                    document.write("<br>")),
                    document.write("The Shop is closed right now 🔚")
            }
        })
        checkingShopOpenOrNot.then((result) => {
            result()
        }).catch((err) => {
            err()
        });
        //-----------------------------------------------------------------------------
    </script>

</body>

</html>